### 服务注册

服务注册：
	1.服务启动后自身向注册中心注册自己；
	2.第三方注册是由一个独立的服务registrar(登记员),然后负责向注册中心发起注册工作。

服务注册什么？

​	主机名，端口号，版本号，或者一些环境信息。 

---

### 服务发现

服务发现：
	1.客户端发现：客户端负责查询可用服务地址，以及负载均衡的工作；
	2.服务端发现：需要额外的Router服务，请求先打到Router,然后Router负责查询服务与负载均衡。

服务发现什么？

​	可以让客户端拿到服务端地址。 

---

### 服务注册发现工具

当下用于服务注册的工具非常多ZooKeeper，Consul，Etcd, 还有Netflix家的eureka等等

ETCD简介
ETCD是一个可靠的键值对分布式存储系统，适用场景是用来存储那些写少读多，结构简单，但又比较重要的数据，这里的比较重要是指要保证数据的高可用，一致性。第一个想到的自然就是配置数据的存储与管理。当然，也可以存储其他满足上述要求的数据，比如在k8s中，ETCD会用来存储k8s各items(pods, rc, rs, deployment等)的状态。随着微服务架构的日益火热，ETCD也常作为服务发现的组件来使用。

服务发现工具对比：
Zookeeper VS Etcd VS Consul

| 名称        | Zookeeper | etcd   | Consul |
| ----------- | --------- | ------ | ------ |
| 产生时间    | 长        | 短     | 短     |
| 原生语言    | JAVA      | Go     | Go     |
| 算法        | Paxos     | Raft   | Raft   |
| 多数据中心  | 不支持    | 不支持 | 支持   |
| 健康检查    | 支持      | 不支持 | 支持   |
| web管理界面 | 较为复杂  | 不支持 | 支持   |
| http协议    | 较为复杂  | 支持   | 支持   |
| DNS协议     | 较为复杂  | 不支持 | 支持   |

---

